<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Name/Value Pair App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: auto;
        }
        input[type="text"] {
            width: 100%;
            padding: 8px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        button {
            padding: 10px;
            margin-right: 5px;
            margin-bottom: 10px;
            cursor: pointer;
        }
        select {
            width: 100%;
            height: 200px;
        }
        @media (max-width: 600px) {
            button {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
<h2>Name/Value Pair Manager</h2>
<input type="text" id="pairInput" placeholder="Enter name=value">
<div>
    <button onclick="addPair()">Add</button>
    <button onclick="sortByName()">Sort by Name</button>
    <button onclick="sortByValue()">Sort by Value</button>
    <button onclick="deleteSelected()">Delete</button>
</div>
<select id="pairList" multiple></select>

<script>
    const pairList = document.getElementById('pairList');

    function isValidPair(str) {
        const regex = /^\s*([a-zA-Z0-9]+)\s*=\s*([a-zA-Z0-9]+)\s*$/;
        return regex.exec(str);
    }

    function addPair() {
        const input = document.getElementById('pairInput');
        const value = input.value.trim();
        const match = isValidPair(value);
        if (match) {
            const name = match[1];
            const val = match[2];
            const option = document.createElement('option');
            option.value = `${name}=${val}`;
            option.textContent = `${name} = ${val}`;
            pairList.appendChild(option);
            input.value = '';
        } else {
            alert("Invalid format. Use name=value with only letters and numbers.");
        }
    }

    function sortByName() {
        sortPairs((a, b) => a.name.localeCompare(b.name));
    }

    function sortByValue() {
        sortPairs((a, b) => a.value.localeCompare(b.value));
    }

    function sortPairs(compareFn) {
        const options = Array.from(pairList.options).map(opt => {
            const [name, value] = opt.value.split('=');
            return { name, value, text: opt.textContent };
        });

        options.sort(compareFn);

        pairList.innerHTML = '';
        for (let pair of options) {
            const opt = document.createElement('option');
            opt.value = `${pair.name}=${pair.value}`;
            opt.textContent = pair.text;
            pairList.appendChild(opt);
        }
    }

    function deleteSelected() {
        const selected = Array.from(pairList.selectedOptions);
        for (let opt of selected) {
            opt.remove();
        }
    }
</script>
</body>
</html>
